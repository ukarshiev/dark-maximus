# üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Dark Maximus

> **–î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–π —Ä–µ–¥–∞–∫—Ü–∏–∏:** 17.11.2025 05:35

## –û–±–∑–æ—Ä

–ü—Ä–æ–µ–∫—Ç Dark Maximus –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–º–ø–ª–µ–∫—Å–Ω—É—é —Å–∏—Å—Ç–µ–º—É –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **pytest** –∏ **Allure Framework**. –°–∏—Å—Ç–µ–º–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤–∫–ª—é—á–∞–µ—Ç unit-—Ç–µ—Å—Ç—ã, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã, E2E —Ç–µ—Å—Ç—ã –∏ –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–æ–∫ –∏ –º–∏–≥—Ä–∞—Ü–∏–π.

## –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

### üìã –û—Å–Ω–æ–≤–Ω—ã–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞

- **[–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤](testing-structure.md)** ‚Äî –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤ –ø–æ —Ç–∏–ø–∞–º –∏ –º–æ–¥—É–ª—è–º
- **[–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤](running-tests.md)** ‚Äî –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∑–∞–ø—É—Å–∫—É —Ç–µ—Å—Ç–æ–≤ (–ª–æ–∫–∞–ª—å–Ω–æ, Docker, Nx)
- **[Allure –æ—Ç—á–µ—Ç—ã](allure-reporting.md)** ‚Äî —Ä–∞–±–æ—Ç–∞ —Å Allure Framework –∏ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º
- **[Best Practices](best-practices.md)** ‚Äî —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –Ω–∞–ø–∏—Å–∞–Ω–∏—é —Ç–µ—Å—Ç–æ–≤
- **[–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–µ—Ñ–µ–∫—Ç–∞–º–∏](allure-defects-management.md)** ‚Äî —Ä–∞–±–æ—Ç–∞ —Å –¥–µ—Ñ–µ–∫—Ç–∞–º–∏ –∏–∑ Allure –æ—Ç—á–µ—Ç–æ–≤
- **[–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–ª–∞–Ω–æ–≤](test-plan-display-mode.md)** ‚Äî —Ç–µ—Å—Ç—ã —Ä–µ–∂–∏–º–æ–≤ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–∞—Ä–∏—Ñ–æ–≤ –∏ –≥—Ä—É–ø–ø –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **[–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–∏—á–Ω–æ–≥–æ –∫–∞–±–∏–Ω–µ—Ç–∞ —Å —Ä–µ–∂–∏–º–æ–º 'cabinet'](test-cabinet-provision-mode-cabinet.md)** ‚Äî —Ç–µ—Å—Ç –ø–æ–ª–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ —Ä–∞–±–æ—Ç—ã –ª–∏—á–Ω–æ–≥–æ –∫–∞–±–∏–Ω–µ—Ç–∞
- **[–¢–µ—Å—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –∏—Å—Ç–µ—á–µ–Ω–∏–∏ –∫–ª—é—á–∞](test-notification-buttons-flow.md)** ‚Äî –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ç–µ—Å—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ–º —Ç–∞—Ä–∏—Ñ–µ –¥–ª—è –∞–≤—Ç–æ–ø—Ä–æ–¥–ª–µ–Ω–∏—è
- **[HTML Validation Tests](html-validation-tests.md)** ‚Äî —Ç–µ—Å—Ç—ã –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ HTML –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ Telegram API
- **[–í–∞–ª–∏–¥–∞—Ü–∏—è —à–∞–±–ª–æ–Ω–æ–≤ —Å–æ–æ–±—â–µ–Ω–∏–π](template-validation.md)** ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ —à–∞–±–ª–æ–Ω–æ–≤ –≤ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–µ "–¢–µ–∫—Å—Ç—ã –±–æ—Ç–∞"

### üìö –°–ø—Ä–∞–≤–æ—á–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **[–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é](../../reference/testing-reference.md)** ‚Äî –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è pytest, –º–∞—Ä–∫–µ—Ä—ã, —Ñ–∏–∫—Å—Ç—É—Ä—ã, API

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

```bash
# Linux/macOS
sudo ./install-autotest.sh

# Windows (PowerShell)
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Docker Compose –Ω–∞–ø—Ä—è–º—É—é
docker compose build autotest
docker compose up -d autotest allure-service
```

### 2. –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤

```bash
# –í Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
docker compose exec autotest pytest

# –õ–æ–∫–∞–ª—å–Ω–æ (—Ç—Ä–µ–±—É–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)
pytest tests/
```

### 3. –ü—Ä–æ—Å–º–æ—Ç—Ä –æ—Ç—á–µ—Ç–æ–≤ Allure

–û—Ç–∫—Ä–æ–π—Ç–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
- **–õ–æ–∫–∞–ª—å–Ω–æ:** `http://localhost:50005/allure-docker-service/projects/default/reports/latest/index.html`
- **Swagger UI:** `http://localhost:50005`

## –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–µ—Å—Ç–æ–≤

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
- ‚úÖ **Passed:** 103 —Ç–µ—Å—Ç–∞
- ‚ùå **Failed:** 15 —Ç–µ—Å—Ç–æ–≤
- ‚ö†Ô∏è **Broken:** 14 —Ç–µ—Å—Ç–æ–≤
- üì¶ **Total:** 132 —Ç–µ—Å—Ç–∞

**–ü–æ–∫—Ä—ã—Ç–∏–µ –ø–æ —Ç–∏–ø–∞–º:**
- **Unit-—Ç–µ—Å—Ç—ã:** ~70% (unit/)
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã:** ~20% (integration/)
- **E2E —Ç–µ—Å—Ç—ã:** ~10% (e2e/)

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤

```
tests/
‚îú‚îÄ‚îÄ unit/                    # Unit-—Ç–µ—Å—Ç—ã (70% –ø–æ–∫—Ä—ã—Ç–∏—è)
‚îÇ   ‚îú‚îÄ‚îÄ test_database/      # –¢–µ—Å—Ç—ã –æ–ø–µ—Ä–∞—Ü–∏–π —Å –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ test_bot/           # –¢–µ—Å—Ç—ã –±–æ—Ç–∞ (handlers, –ª–æ–≥–∏–∫–∞)
‚îÇ   ‚îú‚îÄ‚îÄ test_utils/         # –¢–µ—Å—Ç—ã —É—Ç–∏–ª–∏—Ç
‚îÇ   ‚îî‚îÄ‚îÄ test_security/      # –¢–µ—Å—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ integration/            # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã (20%)
‚îÇ   ‚îú‚îÄ‚îÄ test_payments/      # –¢–µ—Å—Ç—ã –ø–ª–∞—Ç–µ–∂–Ω—ã—Ö —Å–∏—Å—Ç–µ–º
‚îÇ   ‚îú‚îÄ‚îÄ test_vpn_purchase/  # –¢–µ—Å—Ç—ã –ø–æ–∫—É–ø–∫–∏ VPN
‚îÇ   ‚îî‚îÄ‚îÄ test_web_panel/     # –¢–µ—Å—Ç—ã –≤–µ–±-–ø–∞–Ω–µ–ª–∏
‚îú‚îÄ‚îÄ e2e/                    # End-to-End —Ç–µ—Å—Ç—ã (10%)
‚îÇ   ‚îú‚îÄ‚îÄ test_user_scenarios/    # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ test_admin_scenarios/   # –ê–¥–º–∏–Ω—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
‚îú‚îÄ‚îÄ ad-hoc/                 # –û–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ tests/              # –û–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–µ —Ç–µ—Å—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ checks/             # –ü—Ä–æ–≤–µ—Ä–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ migrations/         # –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
‚îÇ   ‚îî‚îÄ‚îÄ utils/              # –£—Ç–∏–ª–∏—Ç—ã
‚îú‚îÄ‚îÄ conftest.py             # –û–±—â–∏–µ —Ñ–∏–∫—Å—Ç—É—Ä—ã
‚îú‚îÄ‚îÄ pytest.ini              # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è pytest
‚îú‚îÄ‚îÄ run_tests.sh            # –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞ (bash)
‚îî‚îÄ‚îÄ run_tests.ps1           # –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞ (PowerShell)
```

## –û—Å–Ω–æ–≤–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

### Pytest
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:** `tests/pytest.ini`
- **–§–∏–∫—Å—Ç—É—Ä—ã:** `tests/conftest.py`
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** [pytest.org](https://docs.pytest.org/)

### Allure Framework
- **–í–µ—Ä—Å–∏—è:** 2.24.1
- **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:** `http://localhost:50005`
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** [Allure Python](https://github.com/allure-framework/allure-python)

### Docker
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Ç–µ—Å—Ç–æ–≤:** `dark-maximus-autotest`
- **Allure Service:** `dark-maximus-allure`
- **Dockerfile:** `Dockerfile.tests`

## –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ç–µ—Å—Ç–∞–º–∏

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
# –í—Å–µ —Ç–µ—Å—Ç—ã
docker compose exec autotest pytest

# –¢–æ–ª—å–∫–æ unit-—Ç–µ—Å—Ç—ã
docker compose exec autotest pytest tests/unit/ -m unit

# –¢–æ–ª—å–∫–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
docker compose exec autotest pytest tests/integration/ -m integration

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ñ–∞–π–ª
docker compose exec autotest pytest tests/unit/test_database/test_user_operations.py

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–µ—Å—Ç
docker compose exec autotest pytest tests/unit/test_database/test_user_operations.py::test_register_user
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

```bash
# –õ–æ–≥–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker compose logs -f autotest

# –õ–æ–≥–∏ Allure Service
docker compose logs -f allure-service

# –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ—Ç—á–µ—Ç–æ–≤
open http://localhost:50005/allure-docker-service/projects/default/reports/latest/index.html
```

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [–ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∞–≤—Ç–æ—Ç–µ—Å—Ç–æ–≤](../reports/KAR-29-AUTOTEST-IMPLEMENTATION-PLAN.md) ‚Äî –∏—Å—Ç–æ—Ä–∏—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](../../architecture/project-info.md) ‚Äî –æ–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–µ–∫—Ç–µ
- [–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤](../development/README.md) ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

## –°–º. —Ç–∞–∫–∂–µ

- [–°–ø—Ä–∞–≤–æ—á–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](../../reference/) ‚Äî —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏
- [–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é](../deployment/) ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
- [–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞](../admin/) ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–æ–π

---

**–í–µ—Ä—Å–∏—è:** 1.1  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 16.11.2025  
**–ê–≤—Ç–æ—Ä:** Dark Maximus Team

