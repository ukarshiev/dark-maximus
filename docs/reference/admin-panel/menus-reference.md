# üß≠ –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –∫–ª–∞–≤–∏–∞—Ç—É—Ä Telegram-–±–æ—Ç–∞

> –î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–π —Ä–µ–¥–∞–∫—Ü–∏–∏: 14.11.2025 07:04  
> –¢–∏–ø –¥–æ–∫—É–º–µ–Ω—Ç–∞: Reference

–≠—Ç–æ—Ç —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –≤—Å–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã (reply –∏ inline), –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±–æ—Ç Dark Maximus. –î–æ–∫—É–º–µ–Ω—Ç –ø–æ–º–æ–≥–∞–µ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º –±—ã—Å—Ç—Ä–æ –ø–æ–Ω—è—Ç—å, –∫–∞–∫–∏–µ –∫–Ω–æ–ø–∫–∏ –∏ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º, –∞ —Ç–∞–∫–∂–µ –≤ –∫–∞–∫–∏—Ö –º–µ—Å—Ç–∞—Ö –∫–æ–¥–∞ –∏—Å–∫–∞—Ç—å –Ω—É–∂–Ω—É—é –ª–æ–≥–∏–∫—É.

## üîé –ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–º

- –ö–∞–∂–¥–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω–∞ –ø–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—é –∫–ª–∞–≤–∏–∞—Ç—É—Ä.
- –í –∫–æ–ª–æ–Ω–∫–µ ¬´–ò–Ω–∏—Ü–∏–∞—Ç–æ—Ä¬ª —É–∫–∞–∑–∞–Ω–æ —Å–æ–±—ã—Ç–∏–µ –∏–ª–∏ callback, –∑–∞–ø—É—Å–∫–∞—é—â–∏–π –º–µ–Ω—é.
- –í –∫–æ–ª–æ–Ω–∫–µ ¬´–£—Å–ª–æ–≤–∏—è¬ª –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω—ã –æ—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ —Å–æ–≥–ª–∞—Å–∏—è —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏).
- ¬´–ü–µ—Ä–µ—Ö–æ–¥—ã¬ª –æ–ø–∏—Å—ã–≤–∞—é—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ –≤–µ—Ç–∫–∏ —Å—Ü–µ–Ω–∞—Ä–∏—è –ø–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–æ–∫.
- ¬´–§–∞–π–ª—ã¬ª —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ `src/shop_bot/bot/keyboards.py` –∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≤ `src/shop_bot/bot/handlers.py`.

---

## üß© Reply-–∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã

| –ú–µ–Ω—é | –ö–æ–¥ | –ò–Ω–∏—Ü–∏–∞—Ç–æ—Ä | –û—Å–Ω–æ–≤–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ | –£—Å–ª–æ–≤–∏—è | –ü–µ—Ä–µ—Ö–æ–¥—ã | –§–∞–π–ª—ã |
|------|-----|-----------|-----------------|---------|----------|-------|
| –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é | `get_main_reply_keyboard` | `/start`, callback `back_to_main_menu`, –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–∞ | ¬´üõí –ö—É–ø–∏—Ç—å¬ª, ¬´üë§ –ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å¬ª, ¬´üí∞–ü–æ–ø–æ–ª–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å¬ª, ¬´‚ÅâÔ∏è –ü–æ–º–æ—â—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞¬ª, ¬´‚öôÔ∏è –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å¬ª (—Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω) | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω, –ø—Ä–∏–Ω—è–ª –¥–æ–∫—É–º–µ–Ω—Ç—ã, –ø–æ–¥–ø–∏—Å–∞–ª—Å—è (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è) | –ó–∞–ø—É—Å–∫ –≤–µ—Ç–æ–∫ –ø–æ–∫—É–ø–∫–∏, –ø—Ä–æ—Ñ–∏–ª—è, –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è, –ø–æ–º–æ—â–∏, –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ | `keyboards.py#get_main_reply_keyboard`<br>`handlers.py@show_main_menu` |

---

## üë§ –ü—Ä–æ—Ñ–∏–ª—å –∏ –∫–ª—é—á–∏

| –ú–µ–Ω—é | –ö–æ–¥ | –ò–Ω–∏—Ü–∏–∞—Ç–æ—Ä | –û—Å–Ω–æ–≤–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ | –£—Å–ª–æ–≤–∏—è –∏ —Ä–µ–∂–∏–º—ã | –ü–µ—Ä–µ—Ö–æ–¥—ã | –§–∞–π–ª—ã |
|------|-----|-----------|-----------------|------------------|----------|-------|
| –ú–µ–Ω—é –ø—Ä–æ—Ñ–∏–ª—è | `create_profile_menu_keyboard` | Callback `show_profile`, —Å–æ–æ–±—â–µ–Ω–∏–µ ¬´üë§ –ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å¬ª | ¬´üîë –ú–æ–∏ –∫–ª—é—á–∏¬ª, ¬´–ê–≤—Ç–æ–ø—Ä–æ–¥–ª–µ–Ω–∏–µ —Å –±–∞–ª–∞–Ω—Å–∞ (–≤–∫–ª/–æ—Ç–∫–ª)¬ª, ¬´üåç –ò–∑–º–µ–Ω–∏—Ç—å —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å¬ª, ¬´ü§ù –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞¬ª (–ø–æ —Ñ–ª–∞–≥—É), ¬´‚¨ÖÔ∏è –ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é¬ª | –¢—Ä–µ–±—É—é—Ç—Å—è –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã `documents_consent_required`, `subscription_required`; –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç `total_keys_count`, `trial_used`, `auto_renewal_enabled` | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª—é—á–∞–º–∏, —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞, –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–∞–π–º–∑–æ–Ω—ã, –≤–æ–∑–≤—Ä–∞—Ç –≤ –º–µ–Ω—é | `keyboards.py#create_profile_menu_keyboard`<br>`handlers.py@profile_handler_callback` |
| –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª—é—á–∞–º–∏ | `create_keys_management_keyboard` | Callback `manage_keys`, –∫–Ω–æ–ø–∫–∞ ¬´üîë –ú–æ–∏ –∫–ª—é—á–∏¬ª | –°–ø–∏—Å–æ–∫ –∫–ª—é—á–µ–π —Å–æ —Å—Ç–∞—Ç—É—Å–∞–º–∏ –∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–º –∞–≤—Ç–æ–ø—Ä–æ–¥–ª–µ–Ω–∏—è, ¬´üÜì –ü—Ä–æ–±–Ω—ã–π –ø–µ—Ä–∏–æ–¥¬ª (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω), ¬´‚ûï –ö—É–ø–∏—Ç—å –Ω–æ–≤—ã–π –∫–ª—é—á¬ª, ¬´‚¨ÖÔ∏è –ù–∞–∑–∞–¥¬ª | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `trial_used` –∏ —Å–ø–∏—Å–æ–∫ –∫–ª—é—á–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç –∫ –∫–∞—Ä—Ç–æ—á–∫–µ –∫–ª—é—á–∞, –ø–æ–∫—É–ø–∫–µ –Ω–æ–≤–æ–≥–æ –∫–ª—é—á–∞, –∑–∞–ø—É—Å–∫—É —Ç—Ä–∏–∞–ª–∞ | `keyboards.py#create_keys_management_keyboard`<br>`handlers.py@keys_management_handler` |

**–§–æ—Ä–º–∞—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–ª—é—á–µ–π:**
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞: `{status_icon} #{–Ω–æ–º–µ—Ä} | {—Ñ–ª–∞–≥} | {—Ç–∞—Ä–∏—Ñ/TRIAL} | {—Ü–µ–Ω–∞}‚ÇΩ | –¥–æ {–¥–∞—Ç–∞} | {auto_renewal}`
- `{auto_renewal}`: üü¢ (–≤–∫–ª—é—á–µ–Ω–æ) –∏–ª–∏ üî¥ (–≤—ã–∫–ª—é—á–µ–Ω–æ) - –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∞–≤—Ç–æ–ø—Ä–æ–¥–ª–µ–Ω–∏—è –∫–ª—é—á–∞ (–≤ –∫–æ–Ω—Ü–µ —Å—Ç—Ä–æ–∫–∏)
- –ü—Ä–∏–º–µ—Ä—ã:
  - –û–±—ã—á–Ω—ã–π –∫–ª—é—á: `‚úÖ #11 | –§–∏ | 5. –õ–ö –ü–æ–¥–ø–∏—Å–∫–∞ | 1‚ÇΩ | –¥–æ 14.11.25 | üü¢`
  - –ü—Ä–æ–±–Ω—ã–π –∫–ª—é—á: `‚úÖ #11 | –§–∏ | TRIAL | 0‚ÇΩ | –¥–æ 16.11.25 | üü¢`
  - –ò—Å—Ç—ë–∫—à–∏–π: `‚ùå #4 | –°–® | –ü—Ä–µ–º–∏—É–º | 599‚ÇΩ | –¥–æ 14.11.25 | üî¥`
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
  - `status_icon`: ‚úÖ (–∞–∫—Ç–∏–≤–Ω—ã–π) –∏–ª–∏ ‚ùå (–∏—Å—Ç—ë–∫—à–∏–π/–¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–π)
  - `–Ω–æ–º–µ—Ä`: –ø–æ—Ä—è–¥–∫–æ–≤—ã–π –Ω–æ–º–µ—Ä –∫–ª—é—á–∞ (–Ω–∞—á–∏–Ω–∞—è —Å 1)
  - `—Ñ–ª–∞–≥`: –ø–µ—Ä–≤—ã–µ 2 —Å–∏–º–≤–æ–ª–∞ –∏–∑ `host_name` (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–§–∏" –¥–ª—è "–§–∏–Ω–ª—è–Ω–¥–∏—è", "–°–®" –¥–ª—è "–°–®–ê") –∏–ª–∏ üåê –µ—Å–ª–∏ –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ –º–µ–Ω—å—à–µ 2 —Å–∏–º–≤–æ–ª–æ–≤
  - `—Ç–∞—Ä–∏—Ñ/TRIAL`: –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–∞—Ä–∏—Ñ–∞ –∏–ª–∏ "TRIAL" –¥–ª—è –ø—Ä–æ–±–Ω—ã—Ö –∫–ª—é—á–µ–π
  - `—Ü–µ–Ω–∞`: —Ü–µ–Ω–∞ –≤ —Ä—É–±–ª—è—Ö (—Ñ–æ—Ä–º–∞—Ç: —Ü–µ–ª—ã–µ —á–∏—Å–ª–∞ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–∞–∫ `X‚ÇΩ`, –¥—Ä–æ–±–Ω—ã–µ –∫–∞–∫ `X.XX‚ÇΩ`)
  - `–¥–∞—Ç–∞`: –¥–∞—Ç–∞ –∏—Å—Ç–µ—á–µ–Ω–∏—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ `DD.MM.YY` (–≥–æ–¥ –∏–∑ –¥–≤—É—Ö —Å–∏–º–≤–æ–ª–æ–≤)
  - `auto_renewal`: üü¢ (–∞–≤—Ç–æ–ø—Ä–æ–¥–ª–µ–Ω–∏–µ –≤–∫–ª—é—á–µ–Ω–æ) –∏–ª–∏ üî¥ (–∞–≤—Ç–æ–ø—Ä–æ–¥–ª–µ–Ω–∏–µ –≤—ã–∫–ª—é—á–µ–Ω–æ) - –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å—Ç–∞—Ç—É—Å–∞ –∞–≤—Ç–æ–ø—Ä–æ–¥–ª–µ–Ω–∏—è –∫–ª—é—á–∞ (–≤ –∫–æ–Ω—Ü–µ —Å—Ç—Ä–æ–∫–∏)
- –ü—É—Å—Ç—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (—Ç–∞—Ä–∏—Ñ –∏–ª–∏ —Ü–µ–Ω–∞) –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è –ø—Ä–∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–∏ —Å—Ç—Ä–æ–∫–∏
| –ö–∞—Ä—Ç–æ—á–∫–∞ –∫–ª—é—á–∞ | `create_key_info_keyboard` | Callback `show_key_{id}`, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø–æ–∫—É–ø–∫–µ | ¬´‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞¬ª, ¬´üîë –ü–æ–¥–ø–∏—Å–∫–∞¬ª (–µ—Å–ª–∏ –µ—Å—Ç—å), ¬´üîÅ –ü—Ä–æ–¥–ª–∏—Ç—å —ç—Ç–æ—Ç –∫–ª—é—á¬ª, ¬´‚¨ÖÔ∏è –ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É –∫–ª—é—á–µ–π¬ª | –ü–æ–¥—Ç—è–≥–∏–≤–∞–µ—Ç `subscription_link`, —É—á–∏—Ç—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å –∫–ª—é—á–∞ | –ü—Ä–æ–¥–ª–µ–Ω–∏–µ, –æ—Ç–∫—Ä—ã—Ç–∏–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π, –≤–æ–∑–≤—Ä–∞—Ç –∫ —Å–ø–∏—Å–∫—É | `keyboards.py#create_key_info_keyboard`<br>`handlers.py@show_key_handler` |
| QR-–º–µ–Ω—é –∫–ª—é—á–∞ | `create_qr_keyboard` | Callback `show_qr_{id}` | ¬´üìë –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–ª—é—á¬ª, ¬´üåê –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏‚ùì¬ª, ¬´‚¨ÖÔ∏è –ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É –∫–ª—é—á–µ–π¬ª | –¢—Ä–µ–±—É–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã–π `connection_string` | –ü–æ–∫–∞–∑ –∫–æ–ø–∏–∏ –∫–ª—é—á–∞, –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –∏–ª–∏ –≤–æ–∑–≤—Ä–∞—Ç | `keyboards.py#create_qr_keyboard`<br>`handlers.py@show_qr_handler` |
| –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–∞–π–º–∑–æ–Ω—ã | `create_timezone_selection_keyboard` / `create_timezone_confirmation_keyboard` | Callback `change_timezone`, `tz_page:*`, `confirm_tz:*` | –°–ø–∏—Å–æ–∫ —Ç–∞–π–º–∑–æ–Ω, ¬´‚¨ÖÔ∏è –ù–∞–∑–∞–¥ –≤ –ø—Ä–æ—Ñ–∏–ª—å¬ª, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –≤—ã–±–æ—Ä–∞ | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–∞–≥–∏–Ω–∞—Ü–∏—é, –≤—ã–¥–µ–ª—è–µ—Ç —Ç–µ–∫—É—â—É—é —Ç–∞–π–º–∑–æ–Ω—É | –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ç–∞–π–º–∑–æ–Ω—É –∏–ª–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫ –ø—Ä–æ—Ñ–∏–ª—é | `keyboards.py#create_timezone_selection_keyboard`<br>`handlers.py@change_timezone_handler` |

---

## üõí –ü–æ–∫—É–ø–∫–∞ –∏ –ø—Ä–æ–¥–ª–µ–Ω–∏–µ

| –ú–µ–Ω—é | –ö–æ–¥ | –ò–Ω–∏—Ü–∏–∞—Ç–æ—Ä | –û—Å–Ω–æ–≤–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ | –£—Å–ª–æ–≤–∏—è / —Ä–µ–∂–∏–º—ã | –ü–µ—Ä–µ—Ö–æ–¥—ã | –§–∞–π–ª—ã |
|------|-----|-----------|-----------------|------------------|----------|-------|
| –í—ã–±–æ—Ä —É—Å–ª—É–≥–∏ | `create_service_selection_keyboard` | –°–æ–æ–±—â–µ–Ω–∏—è ¬´üõí –ö—É–ø–∏—Ç—å¬ª, ¬´üõí –ö—É–ø–∏—Ç—å VPN¬ª, callback `buy_vpn_service_selection` | ¬´üÜï –ö—É–ø–∏—Ç—å –Ω–æ–≤—ã–π VPN¬ª, ¬´üîÑ –ü—Ä–æ–¥–ª–∏—Ç—å VPN¬ª, ¬´üÜì –ü—Ä–æ–±–Ω—ã–π –ø–µ—Ä–∏–æ–¥ VPN¬ª, ¬´‚¨ÖÔ∏è –ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é¬ª | –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∫–Ω–æ–ø–∫–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç `total_keys_count` –∏ `trial_used` | –í–µ–¥—ë—Ç –∫ –≤—ã–±–æ—Ä—É —Å–µ—Ä–≤–µ—Ä–∞, —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é –∫–ª—é—á–∞–º–∏ –∏–ª–∏ —Ç—Ä–∏–∞–ª—É | `keyboards.py#create_service_selection_keyboard`<br>`handlers.py@buy_message_handler` |
| –í—ã–±–æ—Ä —Å–µ—Ä–≤–µ—Ä–∞ | `create_host_selection_keyboard` | Callbacks `buy_new_vpn`, `select_host_new_*`, `select_host_trial_*`, `extend_key_*` | –°–ø–∏—Å–æ–∫ —Ö–æ—Å—Ç–æ–≤, ¬´‚¨ÖÔ∏è –ù–∞–∑–∞–¥¬ª (–≤ –ø—Ä–æ—Ñ–∏–ª—å –∏–ª–∏ –≤—ã–±–æ—Ä —É—Å–ª—É–≥–∏) | –ü–∞—Ä–∞–º–µ—Ç—Ä `action` (new/extend/trial) –∏ `back_to` | –ü–µ—Ä–µ—Ö–æ–¥ –∫ –≤—ã–±–æ—Ä—É —Ç–∞—Ä–∏—Ñ–æ–≤ –∏–ª–∏ –≤–æ–∑–≤—Ä–∞—Ç | `keyboards.py#create_host_selection_keyboard`<br>`handlers.py@buy_new_vpn_handler` |
| –í—ã–±–æ—Ä —Ç–∞—Ä–∏—Ñ–∞ | `create_plans_keyboard` | Callbacks `select_host_new_*`, `extend_key_*` | –ö–Ω–æ–ø–∫–∏ —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º —Ç–∞—Ä–∏—Ñ–∞, —Ü–µ–Ω–æ–π, –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏; ¬´‚¨ÖÔ∏è –ù–∞–∑–∞–¥¬ª | –ü–∞—Ä–∞–º–µ—Ç—Ä `action` (new/extend), `key_id` | –ü–µ—Ä–µ—Ö–æ–¥ –∫ –æ–ø–ª–∞—Ç–µ (`buy_*`) –∏–ª–∏ –≤–æ–∑–≤—Ä–∞—Ç | `keyboards.py#create_plans_keyboard`<br>`handlers.py@plan_selection_handler` |

---

## üí≥ –û–ø–ª–∞—Ç–∞ –∏ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ

| –ú–µ–Ω—é | –ö–æ–¥ | –ò–Ω–∏—Ü–∏–∞—Ç–æ—Ä | –û—Å–Ω–æ–≤–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ | –£—Å–ª–æ–≤–∏—è | –ü–µ—Ä–µ—Ö–æ–¥—ã | –§–∞–π–ª—ã |
|------|-----|-----------|-----------------|---------|----------|-------|
| –°—É–º–º—ã –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è | `create_topup_amounts_keyboard` | –°–æ–æ–±—â–µ–Ω–∏–µ ¬´üí∞–ü–æ–ø–æ–ª–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å¬ª, callbacks `topup_root`, `topup_back_to_amounts` | ¬´179 / 300 / 500 —Ä—É–±–ª–µ–π¬ª, ¬´–í–≤–µ—Å—Ç–∏ –¥—Ä—É–≥—É—é —Å—É–º–º—É¬ª, ¬´‚¨ÖÔ∏è –ù–∞–∑–∞–¥¬ª | –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –∏–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ `minimum_topup` | –í–µ–¥—ë—Ç –∫ –≤—ã–±–æ—Ä—É —Å–ø–æ—Å–æ–±–æ–≤ –æ–ø–ª–∞—Ç—ã –∏–ª–∏ –≤–æ–∑–≤—Ä–∞—Ç—É | `keyboards.py#create_topup_amounts_keyboard`<br>`handlers.py@topup_message_handler` |
| –°–ø–æ—Å–æ–±—ã –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è | `create_topup_payment_methods_keyboard` | Callback `topup_amount_*`, `topup_back_to_payment_methods` | –ë–∞–Ω–∫–æ–≤—Å–∫–∞—è –∫–∞—Ä—Ç–∞ / –°–ë–ü, Stars, TON Connect, ¬´‚¨ÖÔ∏è –ù–∞–∑–∞–¥¬ª | –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã–µ –ø–ª–∞—Ç—ë–∂–Ω—ã–µ –º–µ—Ç–æ–¥—ã | –ü–µ—Ä–µ—Ö–æ–¥ –∫ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—é –æ–ø–ª–∞—Ç—ã, —Ä–∞—Å—á—ë—Ç—É Stars/TON | `keyboards.py#create_topup_payment_methods_keyboard`<br>`handlers.py@topup_select_preset_handler` |
| –°–ø–æ—Å–æ–±—ã –æ–ø–ª–∞—Ç—ã –∑–∞–∫–∞–∑–∞ | `create_payment_method_keyboard` | Callbacks `pay_*`, —Å–æ—Å—Ç–æ—è–Ω–∏–µ `PaymentProcess.waiting_for_payment_method` | ¬´üí∞ –° –±–∞–ª–∞–Ω—Å–∞¬ª, ¬´üè¶ –ë–∞–Ω–∫–æ–≤—Å–∫–∞—è –∫–∞—Ä—Ç–∞¬ª, ¬´üíé –ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞¬ª, ¬´ü§ñ CryptoBot¬ª, ¬´ü™ô TonCoin¬ª, ¬´‚≠ê Stars¬ª, ¬´üé´ –ü—Ä–∏–º–µ–Ω–∏—Ç—å –ø—Ä–æ–º–æ–∫–æ–¥¬ª, ¬´‚¨ÖÔ∏è –ù–∞–∑–∞–¥ –∫ —Ç–∞—Ä–∏—Ñ–∞–º¬ª | –°–ø–∏—Å–æ–∫ –º–µ—Ç–æ–¥–æ–≤ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è —á–µ—Ä–µ–∑ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ | –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –æ–ø–ª–∞—Ç—ã, –≤–æ–∑–≤—Ä–∞—Ç –∫ –≤—ã–±–æ—Ä—É —Ç–∞—Ä–∏—Ñ–æ–≤ (`back_to_plans`) | `keyboards.py#create_payment_method_keyboard`<br>`handlers.py@plan_selection_handler` |
| –û–ø–ª–∞—Ç–∞ Stars | `create_stars_payment_keyboard` | Callbacks `topup_pay_stars`, `pay_stars` | ¬´–ó–∞–ø–ª–∞—Ç–∏—Ç—å N ‚≠ê¬ª, ¬´–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–ø–ª–∞—Ç–∏—Ç—å¬ª | –ù–∞–ª–∏—á–∏–µ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω–æ–π —Å—É–º–º—ã Stars | –°–æ–∑–¥–∞–Ω–∏–µ invoice –∏–ª–∏ –ø–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ø—Ä–∞–≤–∫–µ | `keyboards.py#create_stars_payment_keyboard`<br>`handlers.py@topup_pay_stars` |
| Fallback Stars | `create_stars_payment_failed_keyboard` | Callbacks `stars_payment_failed`, `topup_stars_payment_failed` | ¬´–ü–æ–ø–æ–ª–Ω–∏—Ç—å RUB¬ª, ¬´–ù–∞–∑–∞–¥¬ª | –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –Ω–µ—É–¥–∞—á–Ω–æ–π –æ–ø–ª–∞—Ç—ã | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫ –≤—ã–±–æ—Ä—É —Å–ø–æ—Å–æ–±–æ–≤ –æ–ø–ª–∞—Ç—ã | `keyboards.py#create_stars_payment_failed_keyboard`<br>`handlers.py@topup_stars_payment_failed` |
| TON Connect | `create_ton_connect_keyboard` | Callbacks `pay_tonconnect`, `topup_pay_tonconnect` | ¬´üöÄ –û—Ç–∫—Ä—ã—Ç—å –∫–æ—à–µ–ª–µ–∫¬ª, ¬´‚¨ÖÔ∏è –ù–∞–∑–∞–¥¬ª | –¢—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π TON-–∫–æ—à–µ–ª—ë–∫ –∏ —Ä–∞—Å—á—ë—Ç —Å—É–º–º—ã | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Å—ã–ª–∫–∏/QR, –≤–æ–∑–≤—Ä–∞—Ç | `keyboards.py#create_ton_connect_keyboard`<br>`handlers.py@topup_pay_tonconnect` |
| –ü–µ—Ä–µ—Ö–æ–¥ –∫ –æ–ø–ª–∞—Ç–µ | `create_payment_keyboard` | Callbacks –ø–ª–∞—Ç–µ–∂–µ–π (YooKassa, CryptoBot –∏ –¥—Ä.) | ¬´–ü–µ—Ä–µ–π—Ç–∏ –∫ –æ–ø–ª–∞—Ç–µ¬ª, ¬´‚¨ÖÔ∏è –ù–∞–∑–∞–¥¬ª | –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∞ –ø–ª–∞—Ç—ë–∂–Ω–∞—è —Å—Å—ã–ª–∫–∞ | –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø–ª–∞—Ç—ë–∂–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏–ª–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫ —Ç–∞—Ä–∏—Ñ–∞–º | `keyboards.py#create_payment_keyboard`<br>`handlers.py@yookassa_pay_handler` |
| –ü—Ä–æ–ø—É—Å–∫ email (–∞—Ä—Ö–∏–≤) | `create_skip_email_keyboard` | –°–æ—Å—Ç–æ—è–Ω–∏–µ `PaymentProcess.waiting_for_email` (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏) | ¬´‚û°Ô∏è –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –±–µ–∑ –ø–æ—á—Ç—ã¬ª, ¬´‚¨ÖÔ∏è –ù–∞–∑–∞–¥ –∫ —Ç–∞—Ä–∏—Ñ–∞–º¬ª | –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π —à–∞–≥ ‚Äî —Ç–µ–∫—É—â–∏–π —Å—Ü–µ–Ω–∞—Ä–∏–π –±–æ–ª—å—à–µ –Ω–µ —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç email | –°—Ç–∞—Ä—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–∑–≤–æ–ª—è—é—Ç –∑–∞–≤–µ—Ä—à–∏—Ç—å –ø–æ–∫—É–ø–∫—É –∏–ª–∏ –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Ç–∞—Ä–∏—Ñ–∞–º | `keyboards.py#create_skip_email_keyboard`<br>`handlers.py@plan_selection_handler` |
| –í–æ–∑–≤—Ä–∞—Ç –∫ –º–µ—Ç–æ–¥–∞–º –æ–ø–ª–∞—Ç—ã | `create_back_to_payment_methods_keyboard` | –°–µ—Ä–≤–∏—Å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –æ–ø–ª–∞—Ç—ã | ¬´‚¨ÖÔ∏è –ù–∞–∑–∞–¥ –∫ —Å–ø–æ—Å–æ–±–∞–º –æ–ø–ª–∞—Ç—ã¬ª | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏—è—Ö | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫ —Å–ø–∏—Å–∫—É —Å–ø–æ—Å–æ–±–æ–≤ –æ–ø–ª–∞—Ç—ã | `keyboards.py#create_back_to_payment_methods_keyboard` |

---

## üìö –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∏ onboarding

| –ú–µ–Ω—é | –ö–æ–¥ | –ò–Ω–∏—Ü–∏–∞—Ç–æ—Ä | –û—Å–Ω–æ–≤–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ | –£—Å–ª–æ–≤–∏—è | –ü–µ—Ä–µ—Ö–æ–¥—ã | –§–∞–π–ª—ã |
|------|-----|-----------|-----------------|---------|----------|-------|
| –¶–µ–Ω—Ç—Ä –ø–æ–º–æ—â–∏ | `create_help_center_keyboard` | –°–æ–æ–±—â–µ–Ω–∏–µ ¬´‚ÅâÔ∏è –ü–æ–º–æ—â—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞¬ª, callback `help_center` | ¬´üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞¬ª, ¬´üåê –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏‚ùì¬ª, ¬´‚ÑπÔ∏è –û –ø—Ä–æ–µ–∫—Ç–µ¬ª, ¬´‚¨ÖÔ∏è –ù–∞–∑–∞–¥¬ª | –§–ª–∞–≥ `support_enabled` –∏ –∫–æ–Ω—Ç–µ–Ω—Ç –∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫ | –ü–µ—Ä–µ—Ö–æ–¥ –∫ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º, –æ–ø–∏—Å–∞–Ω–∏—é –ø—Ä–æ–µ–∫—Ç–∞, –ø–æ–¥–¥–µ—Ä–∂–∫–µ | `keyboards.py#create_help_center_keyboard`<br>`handlers.py@help_center_message_handler` |
| –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º | `create_howto_vless_keyboard` | Callback `howto_vless`, –∫–Ω–æ–ø–∫–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π | –ö–Ω–æ–ø–∫–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º, ¬´üé¨ –í–∏–¥–µ–æ–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏¬ª, ¬´‚¨ÖÔ∏è –ù–∞–∑–∞–¥¬ª | –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–ª–∞—Ç—Ñ–æ—Ä–º –∏ –≤–∏–¥–µ–æ | –ü–µ—Ä–µ—Ö–æ–¥ –∫ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º, –≤–∏–¥–µ–æ, –≤–æ–∑–≤—Ä–∞—Ç | `keyboards.py#create_howto_vless_keyboard`<br>`handlers.py@show_instruction_general_handler` |
| –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –∫–ª—é—á–∞ | `create_howto_vless_keyboard_key` | Callback `howto_vless_{id}` | –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –æ–±—â–µ–º—É –º–µ–Ω—é + ¬´‚¨ÖÔ∏è –ù–∞–∑–∞–¥ –∫ –∫–ª—é—á—É¬ª | –¢—Ä–µ–±—É–µ—Ç—Å—è –¥–æ—Å—Ç—É–ø –∫ –∫–ª—é—á—É | –ü–µ—Ä–µ—Ö–æ–¥ –∫ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –∏–ª–∏ –æ–±—Ä–∞—Ç–Ω–æ –∫ –∫–∞—Ä—Ç–æ—á–∫–µ | `keyboards.py#create_howto_vless_keyboard_key`<br>`handlers.py@show_instruction_handler` |
| –í–∏–¥–µ–æ–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ | Inline builder | Callback `video_instructions_list` | –°–ø–∏—Å–æ–∫ ¬´‚ñ∂Ô∏è {title}¬ª, ¬´‚¨ÖÔ∏è –ù–∞–∑–∞–¥¬ª | –í–∏–¥–µ–æ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ –ë–î | –ü–æ–∫–∞–∑ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –≤–∏–¥–µ–æ –∏–ª–∏ –≤–æ–∑–≤—Ä–∞—Ç | `handlers.py@video_instructions_list_handler` |
| Welcome / –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞ | `create_welcome_keyboard` | –û–Ω–±–æ—Ä–¥–∏–Ω–≥ `/start` | –ö–æ–º–±–∏–Ω–∞—Ü–∏–∏ —Å—Å—ã–ª–æ–∫ –Ω–∞ –∫–∞–Ω–∞–ª, –¥–æ–∫—É–º–µ–Ω—Ç—ã, –∫–Ω–æ–ø–∫–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è | –ó–∞–≤–∏—Å–∏—Ç –æ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫ `force_subscription`, terms/privacy URL | –ü–µ—Ä–µ—Ö–æ–¥ –∫ –ø—Ä–æ–≤–µ—Ä–∫–µ –ø–æ–¥–ø–∏—Å–∫–∏ –∏–ª–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—é –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–∞ | `keyboards.py#create_welcome_keyboard`<br>`handlers.py@start_handler` |
| –°–æ–≥–ª–∞—Å–∏–µ —Å —É—Å–ª–æ–≤–∏—è–º–∏ | `create_terms_agreement_keyboard` | –û–Ω–±–æ—Ä–¥–∏–Ω–≥, callback `agree_to_terms_only` | –°—Å—ã–ª–∫–∏ –Ω–∞ Terms/Privacy, ¬´‚úÖ –ü—Ä–∏–Ω–∏–º–∞—é —É—Å–ª–æ–≤–∏—è¬ª | –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—É–±–ª–∏—á–Ω—ã–µ URL –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ | –ü–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –∫ —Å–ª–µ–¥—É—é—â–∏–º —à–∞–≥–∞–º –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–∞ | `keyboards.py#create_terms_agreement_keyboard`<br>`handlers.py@show_terms_agreement_screen` |
| –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∫–∏ | `create_subscription_keyboard` | Callback `check_subscription_and_agree`, `check_subscription` | ¬´üì¢ –ü–µ—Ä–µ–π—Ç–∏ –≤ –∫–∞–Ω–∞–ª¬ª, ¬´‚úÖ –Ø –ø–æ–¥–ø–∏—Å–∞–ª—Å—è¬ª | –ù–∞—Å—Ç—Ä–æ–µ–Ω `channel_url`, –≤–∫–ª—é—á–µ–Ω `force_subscription` | –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∫–∏ –∏–ª–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–∞ | `keyboards.py#create_subscription_keyboard`<br>`handlers.py@show_subscription_screen` |
| –ú–µ–Ω—é ¬´–û –ø—Ä–æ–µ–∫—Ç–µ¬ª | `create_about_keyboard` | –°–æ–æ–±—â–µ–Ω–∏–µ ¬´‚ÑπÔ∏è –û –ø—Ä–æ–µ–∫—Ç–µ¬ª | –ö–∞–Ω–∞–ª, Terms, Privacy, ¬´‚¨ÖÔ∏è –ù–∞–∑–∞–¥¬ª | –°—Å—ã–ª–∫–∏ –Ω–µ –¥–æ–ª–∂–Ω—ã –≤–µ—Å—Ç–∏ –Ω–∞ localhost | –í–æ–∑–≤—Ä–∞—Ç –≤ —Ü–µ–Ω—Ç—Ä –ø–æ–º–æ—â–∏ | `keyboards.py#create_about_keyboard`<br>`handlers.py@about_message` |
| –ü–æ–¥–¥–µ—Ä–∂–∫–∞ | `create_support_keyboard` | –°–æ–æ–±—â–µ–Ω–∏–µ ¬´üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞¬ª | ¬´üÜò –ù–∞–ø–∏—Å–∞—Ç—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É¬ª, ¬´‚¨ÖÔ∏è –ù–∞–∑–∞–¥¬ª | –ù–∞—Å—Ç—Ä–æ–µ–Ω username/URL –ø–æ–¥–¥–µ—Ä–∂–∫–∏ | –û—Ç–∫—Ä—ã—Ç–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∏–ª–∏ –≤–æ–∑–≤—Ä–∞—Ç | `keyboards.py#create_support_keyboard`<br>`handlers.py@support_message` |

---

## ü§ù –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ –∏ –≤—ã–≤–æ–¥

| –ú–µ–Ω—é | –ö–æ–¥ | –ò–Ω–∏—Ü–∏–∞—Ç–æ—Ä | –û—Å–Ω–æ–≤–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ | –£—Å–ª–æ–≤–∏—è | –ü–µ—Ä–µ—Ö–æ–¥—ã | –§–∞–π–ª—ã |
|------|-----|-----------|-----------------|---------|----------|-------|
| –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ | Inline builder | –°–æ–æ–±—â–µ–Ω–∏–µ/Callback ¬´ü§ù –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞¬ª | ¬´üí∏ –û—Å—Ç–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É –Ω–∞ –≤—ã–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤¬ª (–µ—Å–ª–∏ –±–∞–ª–∞–Ω—Å ‚â• 100), ¬´‚¨ÖÔ∏è –ù–∞–∑–∞–¥¬ª | –§–ª–∞–≥ `enable_referrals`, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–π –±–∞–ª–∞–Ω—Å | –ü–æ–¥–∞—á–∞ –∑–∞—è–≤–∫–∏ –∏–ª–∏ –≤–æ–∑–≤—Ä–∞—Ç –≤ –ø—Ä–æ—Ñ–∏–ª—å | `handlers.py@referral_program_handler` |
| –í—ã–±–æ—Ä —Å–ø–æ—Å–æ–±–∞ –≤—ã–≤–æ–¥–∞ | Inline builder | Callback `withdraw_request` | ¬´üì± –ü–æ –Ω–æ–º–µ—Ä—É —Ç–µ–ª–µ—Ñ–æ–Ω–∞¬ª, ¬´üí≥ –ü–æ –Ω–æ–º–µ—Ä—É –∫–∞—Ä—Ç—ã¬ª, ¬´‚¨ÖÔ∏è –ù–∞–∑–∞–¥¬ª | –ë–∞–ª–∞–Ω—Å ‚â• 100 | –ü–µ—Ä–µ—Ö–æ–¥ –∫ –≤—ã–±–æ—Ä—É –±–∞–Ω–∫–∞ –∏–ª–∏ –≤–≤–æ–¥—É —Ä–µ–∫–≤–∏–∑–∏—Ç–æ–≤ | `handlers.py@withdraw_request_handler` |
| –í—ã–±–æ—Ä –±–∞–Ω–∫–∞ | Inline builder | Callback `withdraw_method_phone` | –°–ø–∏—Å–æ–∫ –±–∞–Ω–∫–æ–≤, ¬´‚¨ÖÔ∏è –ù–∞–∑–∞–¥¬ª | –ú–µ—Ç–æ–¥ –≤—ã–≤–æ–¥–∞ = —Ç–µ–ª–µ—Ñ–æ–Ω | –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –±–∞–Ω–∫, –∑–∞—Ç–µ–º –∑–∞–ø—Ä–æ—Å —Ä–µ–∫–≤–∏–∑–∏—Ç–æ–≤ | `handlers.py@withdraw_bank_handler` |
| –û–¥–æ–±—Ä–µ–Ω–∏–µ/–æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –∑–∞—è–≤–∫–∏ | Inline builder | –ê–¥–º–∏–Ω—Å–∫–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ | ¬´‚úÖ –û–¥–æ–±—Ä–∏—Ç—å¬ª, ¬´‚ùå –û—Ç–∫–ª–æ–Ω–∏—Ç—å¬ª | –î–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É | –ó–∞–ø—É—Å–∫–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –æ–¥–æ–±—Ä–µ–Ω–∏—è/–æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è | `handlers.py@approve_withdraw_callback`<br>`handlers.py@decline_withdraw_callback` |

---

## üõ†Ô∏è –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –∏ —Ä–∞—Å—Å—ã–ª–∫–∏

| –ú–µ–Ω—é | –ö–æ–¥ | –ò–Ω–∏—Ü–∏–∞—Ç–æ—Ä | –û—Å–Ω–æ–≤–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ | –£—Å–ª–æ–≤–∏—è | –ü–µ—Ä–µ—Ö–æ–¥—ã | –§–∞–π–ª—ã |
|------|-----|-----------|-----------------|---------|----------|-------|
| –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å | `create_admin_panel_keyboard` | –°–æ–æ–±—â–µ–Ω–∏–µ ¬´‚öôÔ∏è –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å¬ª (—Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω) | ¬´üì¢ –†–∞—Å—Å—ã–ª–∫–∞¬ª, ¬´üîÑ –°–±—Ä–æ—Å–∏—Ç—å —Ç—Ä–∏–∞–ª¬ª, ¬´‚¨ÖÔ∏è –ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é¬ª | –ü—Ä–æ–≤–µ—Ä–∫–∞ `ADMIN_ID` | –ó–∞–ø—É—Å–∫ —Å—Ü–µ–Ω–∞—Ä–∏—è —Ä–∞—Å—Å—ã–ª–∫–∏ –∏–ª–∏ —Å–±—Ä–æ—Å–∞ —Ç—Ä–∏–∞–ª–∞, –≤–æ–∑–≤—Ä–∞—Ç | `keyboards.py#create_admin_panel_keyboard`<br>`handlers.py@admin_panel_message` |
| –†–∞—Å—Å—ã–ª–∫–∞ ‚Äî –æ–ø—Ü–∏–∏ | `create_broadcast_options_keyboard` | –°–æ—Å—Ç–æ—è–Ω–∏–µ `Broadcast.waiting_for_message` | ¬´‚ûï –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É¬ª, ¬´‚û°Ô∏è –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å¬ª, ¬´‚ùå –û—Ç–º–µ–Ω–∞¬ª | –¢–æ–ª—å–∫–æ –∞–¥–º–∏–Ω | –í–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞ –∫–Ω–æ–ø–∫–∏, –ø—Ä–æ–ø—É—Å–∫ –∏–ª–∏ –æ—Ç–º–µ–Ω–∞ | `keyboards.py#create_broadcast_options_keyboard`<br>`handlers.py@broadcast_message_received_handler` |
| –†–∞—Å—Å—ã–ª–∫–∞ ‚Äî –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ | `create_broadcast_confirmation_keyboard` | –°–æ—Å—Ç–æ—è–Ω–∏–µ `Broadcast.waiting_for_confirmation` | ¬´‚úÖ –û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤—Å–µ–º¬ª, ¬´‚ùå –û—Ç–º–µ–Ω–∞¬ª | –¢–æ–ª—å–∫–æ –∞–¥–º–∏–Ω | –ó–∞–ø—É—Å–∫ —Ä–∞—Å—Å—ã–ª–∫–∏ –∏–ª–∏ –æ—Ç–º–µ–Ω–∞ | `keyboards.py#create_broadcast_confirmation_keyboard`<br>`handlers.py@show_broadcast_preview` |
| –†–∞—Å—Å—ã–ª–∫–∞ ‚Äî –æ—Ç–º–µ–Ω–∞ | `create_broadcast_cancel_keyboard` | –õ—é–±–æ–π —à–∞–≥ —Å—Ü–µ–Ω–∞—Ä–∏—è | ¬´‚ùå –û—Ç–º–µ–Ω–∞¬ª | –¢–æ–ª—å–∫–æ –∞–¥–º–∏–Ω | –ü—Ä–µ—Ä—ã–≤–∞–µ—Ç —Ä–∞—Å—Å—ã–ª–∫—É –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤ –º–µ–Ω—é | `keyboards.py#create_broadcast_cancel_keyboard`<br>`handlers.py@cancel_broadcast_handler` |
| –°–±—Ä–æ—Å –ø—Ä–æ–±–Ω–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞ | `create_trial_reset_keyboard` | Callback `admin_reset_trial` | ¬´‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å —Å–±—Ä–æ—Å¬ª, ¬´‚ùå –û—Ç–º–µ–Ω–∞¬ª | –¢–æ–ª—å–∫–æ –∞–¥–º–∏–Ω | –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –∏–ª–∏ –æ—Ç–º–µ–Ω—è–µ—Ç —Å–±—Ä–æ—Å | `keyboards.py#create_trial_reset_keyboard`<br>`handlers.py@admin_reset_trial_handler` |

---

## üß∞ –°–ª—É–∂–µ–±–Ω—ã–µ –∫–Ω–æ–ø–∫–∏

| –≠–ª–µ–º–µ–Ω—Ç | –ö–æ–¥ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –ö–æ–Ω—Ç–µ–∫—Å—Ç | –§–∞–π–ª—ã |
|---------|-----|------------|----------|-------|
| –ö–Ω–æ–ø–∫–∞ ¬´–í –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é¬ª | `get_main_menu_button` | –û–¥–Ω–æ—Ä–∞–∑–æ–≤–∞—è inline-–∫–Ω–æ–ø–∫–∞ –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π | –°–æ–æ–±—â–µ–Ω–∏—è –±–æ—Ç–∞, —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, –æ—à–∏–±–∫–∏ | `keyboards.py#get_main_menu_button` |
| –ö–Ω–æ–ø–∫–∞ ¬´–ö—É–ø–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É¬ª | `get_buy_button` | –ë—ã—Å—Ç—Ä—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –∫ –ø–æ–∫—É–ø–∫–µ | –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø—Ä–æ–¥–ª–µ–Ω–∏–∏/–ø–æ–∫—É–ø–∫–µ | `keyboards.py#get_buy_button` |
| –í–æ–∑–≤—Ä–∞—Ç –≤ –º–µ–Ω—é | `create_back_to_menu_keyboard` | –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –∫–Ω–æ–ø–∫–∞ ¬´‚¨ÖÔ∏è –ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é¬ª | –°–æ–æ–±—â–µ–Ω–∏—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏, –æ—à–∏–±–æ–∫ | `keyboards.py#create_back_to_menu_keyboard` |

---

## üìå –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤

- `src/shop_bot/bot/keyboards.py` ‚Äî –≤—Å–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä –∏ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã—Ö –∫–Ω–æ–ø–æ–∫.
- `src/shop_bot/bot/handlers.py` ‚Äî –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π, callback-–∑–∞–ø—Ä–æ—Å–æ–≤ –∏ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –æ–ø–ª–∞—Ç—ã.
- `src/shop_bot/data_manager/database.py` ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤–ª–∏—è—é—Ç –Ω–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–Ω–æ–ø–æ–∫ (–ø–ª–∞—Ç—ë–∂–Ω—ã–µ —Ñ–ª–∞–≥–∏, –ø–æ–¥–¥–µ—Ä–∂–∫–∞, —Ä–µ—Ñ–µ—Ä–∞–ª—ã).
- `docs/guides/admin/admin-panel-guide.md` ‚Äî –ø–æ—à–∞–≥–æ–≤–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ø–∞–Ω–µ–ª–∏.
- `docs/tutorials/admin-quickstart.md` ‚Äî –∫—Ä–∞—Ç–∫–∏–π —á–µ–∫-–ª–∏—Å—Ç –¥–ª—è –∑–∞–ø—É—Å–∫–∞.

–ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã (`tests/test_extend_keyboard.py`, `tests/test_keyboard_webapp.py`) –∏ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ —ç—Ç–æ—Ç —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫.


