> docker build -t dark-maximus-bot .

#0 building with "desktop-linux" instance using docker driver

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 5.11kB 0.0s done
#1 DONE 0.0s

#2 [internal] load metadata for docker.io/library/node:20-alpine
#2 ...

#3 [internal] load metadata for docker.io/library/python:3.11-slim
#3 DONE 0.4s

#2 [internal] load metadata for docker.io/library/node:20-alpine
#2 DONE 0.4s

#4 [internal] load .dockerignore
#4 transferring context: 955B 0.0s done
#4 DONE 0.0s

#5 [internal] load build context
#5 DONE 0.0s

#6 [assets-builder 1/8] FROM docker.io/library/node:20-alpine@sha256:6178e78b972f79c335df281f4b7674a2d85071aae2af020ffa39f0a770265435
#6 resolve docker.io/library/node:20-alpine@sha256:6178e78b972f79c335df281f4b7674a2d85071aae2af020ffa39f0a770265435 0.1s done
#6 DONE 0.1s

#7 [stage-1 1/9] FROM docker.io/library/python:3.11-slim@sha256:8eb5fc663972b871c528fef04be4eaa9ab8ab4539a5316c4b8c133771214a617
#7 resolve docker.io/library/python:3.11-slim@sha256:8eb5fc663972b871c528fef04be4eaa9ab8ab4539a5316c4b8c133771214a617
#7 resolve docker.io/library/python:3.11-slim@sha256:8eb5fc663972b871c528fef04be4eaa9ab8ab4539a5316c4b8c133771214a617 0.1s done
#7 DONE 0.1s

#5 [internal] load build context
#5 transferring context: 2.92MB 0.1s done
#5 DONE 0.1s

#8 [stage-1 2/9] WORKDIR /app
#8 CACHED

#9 [stage-1 3/9] RUN apt-get update && apt-get install -y netcat-openbsd && rm -rf /var/lib/apt/lists/*
#9 CACHED

#10 [stage-1 4/9] RUN python3 -m venv .venv
#10 CACHED

#11 [assets-builder 4/8] RUN npm install --no-audit --no-fund
#11 CACHED

#12 [assets-builder 2/8] WORKDIR /build
#12 CACHED

#13 [assets-builder 3/8] COPY package*.json ./
#13 CACHED

#14 [assets-builder 5/8] COPY tailwind.config.js postcss.config.js ./
#14 CACHED

#15 [assets-builder 6/8] COPY src/shop_bot/webhook_server/templates ./templates
#15 DONE 0.1s

#16 [stage-1 5/9] COPY . /app/project/
#16 ...

#17 [assets-builder 7/8] COPY src/shop_bot/webhook_server/static ./static
#17 DONE 0.2s

#16 [stage-1 5/9] COPY . /app/project/
#16 DONE 0.4s

#18 [assets-builder 8/8] RUN npx tailwindcss -i ./static/css/tailwind.input.css -o ./static/css/tw.css --minify
#18 1.757 Browserslist: caniuse-lite is outdated. Please run:
#18 1.757   npx update-browserslist-db@latest
#18 1.757   Why you should do it regularly: https://github.com/browserslist/update-db#readme
#18 1.956 
#18 1.956 Rebuilding...
#18 2.101 
#18 2.101 warn - No utility classes were detected in your source files. If this is unexpected, double-check the `content` option in your Tailwind CSS configuration.
#18 2.101 warn - https://tailwindcss.com/docs/content-configuration
#18 2.156 
#18 2.156 Done in 285ms.
#18 DONE 2.2s

#19 [stage-1 6/9] COPY --from=assets-builder /build/static/css/tw.css /app/project/src/shop_bot/webhook_server/static/css/tw.css
#19 DONE 0.1s

#20 [stage-1 7/9] WORKDIR /app/project
#20 DONE 0.1s

#21 [stage-1 8/9] RUN pip install --no-cache-dir -e .
#21 0.913 Obtaining file:///app/project
#21 0.916   Installing build dependencies: started
#21 3.336   Installing build dependencies: finished with status 'done'
#21 3.337   Checking if build backend supports build_editable: started
#21 3.468   Checking if build backend supports build_editable: finished with status 'done'
#21 3.470   Getting requirements to build editable: started
#21 3.623   Getting requirements to build editable: finished with status 'done'
#21 3.626   Preparing editable metadata (pyproject.toml): started
#21 3.779   Preparing editable metadata (pyproject.toml): finished with status 'done'
#21 4.045 Collecting aiogram==3.21.0 (from dark-maximus==3.8.0)
#21 4.257   Downloading aiogram-3.21.0-py3-none-any.whl.metadata (7.6 kB)
#21 4.318 Collecting flask==3.1.1 (from dark-maximus==3.8.0)
#21 4.367   Downloading flask-3.1.1-py3-none-any.whl.metadata (3.0 kB)
#21 4.424 Collecting flask-wtf==1.2.1 (from dark-maximus==3.8.0)
#21 4.474   Downloading flask_wtf-1.2.1-py3-none-any.whl.metadata (3.4 kB)
#21 4.527 Collecting flask-session==0.8.0 (from dark-maximus==3.8.0)
#21 4.580   Downloading flask_session-0.8.0-py3-none-any.whl.metadata (5.2 kB)
#21 4.634 Collecting py3xui==0.4.0 (from dark-maximus==3.8.0)
#21 4.684   Downloading py3xui-0.4.0-py3-none-any.whl.metadata (13 kB)
#21 4.737 Collecting pyotp==2.9.0 (from dark-maximus==3.8.0)
#21 4.787   Downloading pyotp-2.9.0-py3-none-any.whl.metadata (9.8 kB)
#21 4.846 Collecting python-dotenv==1.1.1 (from dark-maximus==3.8.0)
#21 4.894   Downloading python_dotenv-1.1.1-py3-none-any.whl.metadata (24 kB)
#21 4.949 Collecting qrcode==8.2 (from qrcode[pil]==8.2->dark-maximus==3.8.0)
#21 5.008   Downloading qrcode-8.2-py3-none-any.whl.metadata (17 kB)
#21 5.064 Collecting yookassa==3.5.0 (from dark-maximus==3.8.0)
#21 5.126   Downloading yookassa-3.5.0.tar.gz (116 kB)
#21 5.171      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 116.2/116.2 kB 2.5 MB/s eta 0:00:00
#21 5.231   Installing build dependencies: started
#21 6.584   Installing build dependencies: finished with status 'done'
#21 6.585   Getting requirements to build wheel: started
#21 6.707   Getting requirements to build wheel: finished with status 'done'
#21 6.709   Preparing metadata (pyproject.toml): started
#21 6.837   Preparing metadata (pyproject.toml): finished with status 'done'
#21 6.931 Collecting aiosend==2.1.2 (from dark-maximus==3.8.0)
#21 6.980   Downloading aiosend-2.1.2-py3-none-any.whl.metadata (4.3 kB)
#21 7.761 Collecting aiohttp==3.12.15 (from dark-maximus==3.8.0)
#21 7.811   Downloading aiohttp-3.12.15-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (7.7 kB)
#21 7.874 Collecting aiohttp-sse-client==0.2.1 (from dark-maximus==3.8.0)
#21 7.924   Downloading aiohttp_sse_client-0.2.1-py2.py3-none-any.whl.metadata (3.7 kB)
#21 7.977 Collecting pytonconnect==0.3.2 (from dark-maximus==3.8.0)
#21 8.032   Downloading pytonconnect-0.3.2-py3-none-any.whl.metadata (4.8 kB)
#21 8.098 Collecting requests==2.31.0 (from dark-maximus==3.8.0)
#21 8.153   Downloading requests-2.31.0-py3-none-any.whl.metadata (4.6 kB)
#21 8.264 Collecting bcrypt==4.1.2 (from dark-maximus==3.8.0)
#21 8.332   Downloading bcrypt-4.1.2-cp39-abi3-manylinux_2_28_x86_64.whl.metadata (9.5 kB)
#21 8.473 Collecting aiosqlite==0.20.0 (from dark-maximus==3.8.0)
#21 8.524   Downloading aiosqlite-0.20.0-py3-none-any.whl.metadata (4.3 kB)
#21 8.577 Collecting aiocache==0.12.2 (from dark-maximus==3.8.0)
#21 8.633   Downloading aiocache-0.12.2-py2.py3-none-any.whl.metadata (8.3 kB)
#21 8.713 Collecting aiofiles<24.2,>=23.2.1 (from aiogram==3.21.0->dark-maximus==3.8.0)
#21 8.762   Downloading aiofiles-24.1.0-py3-none-any.whl.metadata (10 kB)
#21 8.835 Collecting certifi>=2023.7.22 (from aiogram==3.21.0->dark-maximus==3.8.0)
#21 8.883   Downloading certifi-2025.10.5-py3-none-any.whl.metadata (2.5 kB)
#21 8.940 Collecting magic-filter<1.1,>=1.0.12 (from aiogram==3.21.0->dark-maximus==3.8.0)
#21 8.991   Downloading magic_filter-1.0.12-py3-none-any.whl.metadata (1.5 kB)
#21 9.218 Collecting pydantic<2.12,>=2.4.1 (from aiogram==3.21.0->dark-maximus==3.8.0)
#21 9.276   Downloading pydantic-2.11.10-py3-none-any.whl.metadata (68 kB)
#21 9.365      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 68.6/68.6 kB 1.2 MB/s eta 0:00:00
#21 9.430 Collecting typing-extensions<=5.0,>=4.7.0 (from aiogram==3.21.0->dark-maximus==3.8.0)
#21 9.480   Downloading typing_extensions-4.15.0-py3-none-any.whl.metadata (3.3 kB)
#21 9.554 Collecting aiohappyeyeballs>=2.5.0 (from aiohttp==3.12.15->dark-maximus==3.8.0)
#21 9.601   Downloading aiohappyeyeballs-2.6.1-py3-none-any.whl.metadata (5.9 kB)
#21 9.652 Collecting aiosignal>=1.4.0 (from aiohttp==3.12.15->dark-maximus==3.8.0)
#21 9.708   Downloading aiosignal-1.4.0-py3-none-any.whl.metadata (3.7 kB)
#21 9.775 Collecting attrs>=17.3.0 (from aiohttp==3.12.15->dark-maximus==3.8.0)
#21 9.826   Downloading attrs-25.4.0-py3-none-any.whl.metadata (10 kB)
#21 9.962 Collecting frozenlist>=1.1.1 (from aiohttp==3.12.15->dark-maximus==3.8.0)
#21 10.01   Downloading frozenlist-1.8.0-cp311-cp311-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl.metadata (20 kB)
#21 10.44 Collecting multidict<7.0,>=4.5 (from aiohttp==3.12.15->dark-maximus==3.8.0)
#21 10.52   Downloading multidict-6.7.0-cp311-cp311-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl.metadata (5.3 kB)
#21 10.62 Collecting propcache>=0.2.0 (from aiohttp==3.12.15->dark-maximus==3.8.0)
#21 10.67   Downloading propcache-0.4.1-cp311-cp311-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl.metadata (13 kB)
#21 11.00 Collecting yarl<2.0,>=1.17.0 (from aiohttp==3.12.15->dark-maximus==3.8.0)
#21 11.05   Downloading yarl-1.22.0-cp311-cp311-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl.metadata (75 kB)
#21 11.14      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 75.1/75.1 kB 1.5 MB/s eta 0:00:00
#21 11.25 Collecting blinker>=1.9.0 (from flask==3.1.1->dark-maximus==3.8.0)
#21 11.31   Downloading blinker-1.9.0-py3-none-any.whl.metadata (1.6 kB)
#21 11.45 Collecting click>=8.1.3 (from flask==3.1.1->dark-maximus==3.8.0)
#21 11.51   Downloading click-8.3.0-py3-none-any.whl.metadata (2.6 kB)
#21 11.57 Collecting itsdangerous>=2.2.0 (from flask==3.1.1->dark-maximus==3.8.0)
#21 11.63   Downloading itsdangerous-2.2.0-py3-none-any.whl.metadata (1.9 kB)
#21 11.70 Collecting jinja2>=3.1.2 (from flask==3.1.1->dark-maximus==3.8.0)
#21 11.76   Downloading jinja2-3.1.6-py3-none-any.whl.metadata (2.9 kB)
#21 11.86 Collecting markupsafe>=2.1.1 (from flask==3.1.1->dark-maximus==3.8.0)
#21 11.92   Downloading markupsafe-3.0.3-cp311-cp311-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl.metadata (2.7 kB)
#21 12.00 Collecting werkzeug>=3.1.0 (from flask==3.1.1->dark-maximus==3.8.0)
#21 12.07   Downloading werkzeug-3.1.3-py3-none-any.whl.metadata (3.7 kB)
#21 12.19 Collecting msgspec>=0.18.6 (from flask-session==0.8.0->dark-maximus==3.8.0)
#21 12.25   Downloading msgspec-0.19.0-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (6.9 kB)
#21 12.31 Collecting cachelib (from flask-session==0.8.0->dark-maximus==3.8.0)
#21 12.37   Downloading cachelib-0.13.0-py3-none-any.whl.metadata (2.0 kB)
#21 12.46 Collecting wtforms (from flask-wtf==1.2.1->dark-maximus==3.8.0)
#21 12.53   Downloading wtforms-3.2.1-py3-none-any.whl.metadata (5.3 kB)
#21 12.65 Collecting httpx>=0.20.0 (from py3xui==0.4.0->dark-maximus==3.8.0)
#21 12.70   Downloading httpx-0.28.1-py3-none-any.whl.metadata (7.1 kB)
#21 12.79 Collecting pynacl>=1.5.0 (from pytonconnect==0.3.2->dark-maximus==3.8.0)
#21 12.84   Downloading pynacl-1.6.0-cp38-abi3-manylinux_2_34_x86_64.whl.metadata (9.4 kB)
#21 13.09 Collecting pillow>=9.1.0 (from qrcode[pil]==8.2->dark-maximus==3.8.0)
#21 13.15   Downloading pillow-12.0.0-cp311-cp311-manylinux_2_27_x86_64.manylinux_2_28_x86_64.whl.metadata (8.8 kB)
#21 13.30 Collecting charset-normalizer<4,>=2 (from requests==2.31.0->dark-maximus==3.8.0)
#21 13.35   Downloading charset_normalizer-3.4.4-cp311-cp311-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl.metadata (37 kB)
#21 13.41 Collecting idna<4,>=2.5 (from requests==2.31.0->dark-maximus==3.8.0)
#21 13.46   Downloading idna-3.11-py3-none-any.whl.metadata (8.4 kB)
#21 13.62 Collecting urllib3<3,>=1.21.1 (from requests==2.31.0->dark-maximus==3.8.0)
#21 13.67   Downloading urllib3-2.5.0-py3-none-any.whl.metadata (6.5 kB)
#21 13.73 Collecting netaddr (from yookassa==3.5.0->dark-maximus==3.8.0)
#21 13.79   Downloading netaddr-1.3.0-py3-none-any.whl.metadata (5.0 kB)
#21 13.84 Collecting distro (from yookassa==3.5.0->dark-maximus==3.8.0)
#21 13.89   Downloading distro-1.9.0-py3-none-any.whl.metadata (6.8 kB)
#21 13.95 Collecting deprecated (from yookassa==3.5.0->dark-maximus==3.8.0)
#21 14.00   Downloading Deprecated-1.2.18-py2.py3-none-any.whl.metadata (5.7 kB)
#21 14.10 Collecting anyio (from httpx>=0.20.0->py3xui==0.4.0->dark-maximus==3.8.0)
#21 14.15   Downloading anyio-4.11.0-py3-none-any.whl.metadata (4.1 kB)
#21 14.21 Collecting httpcore==1.* (from httpx>=0.20.0->py3xui==0.4.0->dark-maximus==3.8.0)
#21 14.27   Downloading httpcore-1.0.9-py3-none-any.whl.metadata (21 kB)
#21 14.33 Collecting h11>=0.16 (from httpcore==1.*->httpx>=0.20.0->py3xui==0.4.0->dark-maximus==3.8.0)
#21 14.39   Downloading h11-0.16.0-py3-none-any.whl.metadata (8.3 kB)
#21 14.52 Collecting annotated-types>=0.6.0 (from pydantic<2.12,>=2.4.1->aiogram==3.21.0->dark-maximus==3.8.0)
#21 14.56   Downloading annotated_types-0.7.0-py3-none-any.whl.metadata (15 kB)
#21 15.54 Collecting pydantic-core==2.33.2 (from pydantic<2.12,>=2.4.1->aiogram==3.21.0->dark-maximus==3.8.0)
#21 15.58   Downloading pydantic_core-2.33.2-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (6.8 kB)
#21 15.64 Collecting typing-inspection>=0.4.0 (from pydantic<2.12,>=2.4.1->aiogram==3.21.0->dark-maximus==3.8.0)
#21 15.69   Downloading typing_inspection-0.4.2-py3-none-any.whl.metadata (2.6 kB)
#21 15.93 Collecting cffi>=1.4.1 (from pynacl>=1.5.0->pytonconnect==0.3.2->dark-maximus==3.8.0)
#21 15.98   Downloading cffi-2.0.0-cp311-cp311-manylinux2014_x86_64.manylinux_2_17_x86_64.whl.metadata (2.6 kB)
#21 16.22 Collecting wrapt<2,>=1.10 (from deprecated->yookassa==3.5.0->dark-maximus==3.8.0)
#21 16.27   Downloading wrapt-1.17.3-cp311-cp311-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl.metadata (6.4 kB)
#21 16.35 Collecting pycparser (from cffi>=1.4.1->pynacl>=1.5.0->pytonconnect==0.3.2->dark-maximus==3.8.0)
#21 16.40   Downloading pycparser-2.23-py3-none-any.whl.metadata (993 bytes)
#21 16.48 Collecting sniffio>=1.1 (from anyio->httpx>=0.20.0->py3xui==0.4.0->dark-maximus==3.8.0)
#21 16.53   Downloading sniffio-1.3.1-py3-none-any.whl.metadata (3.9 kB)
#21 16.61 Downloading aiocache-0.12.2-py2.py3-none-any.whl (28 kB)
#21 16.70 Downloading aiogram-3.21.0-py3-none-any.whl (677 kB)
#21 16.84    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 677.3/677.3 kB 5.1 MB/s eta 0:00:00
#21 16.88 Downloading aiohttp-3.12.15-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (1.7 MB)
#21 16.97    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.7/1.7 MB 20.0 MB/s eta 0:00:00
#21 17.03 Downloading aiohttp_sse_client-0.2.1-py2.py3-none-any.whl (7.0 kB)
#21 17.08 Downloading aiosend-2.1.2-py3-none-any.whl (52 kB)
#21 17.08    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 52.1/52.1 kB 280.0 MB/s eta 0:00:00
#21 17.13 Downloading aiosqlite-0.20.0-py3-none-any.whl (15 kB)
#21 17.18 Downloading bcrypt-4.1.2-cp39-abi3-manylinux_2_28_x86_64.whl (698 kB)
#21 17.19    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 698.9/698.9 kB 71.3 MB/s eta 0:00:00
#21 17.25 Downloading flask-3.1.1-py3-none-any.whl (103 kB)
#21 17.25    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 103.3/103.3 kB 185.3 MB/s eta 0:00:00
#21 17.30 Downloading flask_session-0.8.0-py3-none-any.whl (24 kB)
#21 17.35 Downloading flask_wtf-1.2.1-py3-none-any.whl (12 kB)
#21 17.40 Downloading py3xui-0.4.0-py3-none-any.whl (42 kB)
#21 17.41    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 42.9/42.9 kB 286.8 MB/s eta 0:00:00
#21 17.45 Downloading pyotp-2.9.0-py3-none-any.whl (13 kB)
#21 17.51 Downloading python_dotenv-1.1.1-py3-none-any.whl (20 kB)
#21 17.56 Downloading pytonconnect-0.3.2-py3-none-any.whl (24 kB)
#21 17.60 Downloading qrcode-8.2-py3-none-any.whl (45 kB)
#21 17.61    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 46.0/46.0 kB 171.7 MB/s eta 0:00:00
#21 17.65 Downloading requests-2.31.0-py3-none-any.whl (62 kB)
#21 17.66    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 62.6/62.6 kB 161.7 MB/s eta 0:00:00
#21 17.71 Downloading aiofiles-24.1.0-py3-none-any.whl (15 kB)
#21 17.75 Downloading aiohappyeyeballs-2.6.1-py3-none-any.whl (15 kB)
#21 17.80 Downloading aiosignal-1.4.0-py3-none-any.whl (7.5 kB)
#21 17.85 Downloading attrs-25.4.0-py3-none-any.whl (67 kB)
#21 17.86    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 67.6/67.6 kB 170.1 MB/s eta 0:00:00
#21 17.91 Downloading blinker-1.9.0-py3-none-any.whl (8.5 kB)
#21 17.96 Downloading certifi-2025.10.5-py3-none-any.whl (163 kB)
#21 17.97    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 163.3/163.3 kB 194.1 MB/s eta 0:00:00
#21 18.02 Downloading charset_normalizer-3.4.4-cp311-cp311-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl (151 kB)
#21 18.02    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 151.6/151.6 kB 204.6 MB/s eta 0:00:00
#21 18.07 Downloading click-8.3.0-py3-none-any.whl (107 kB)
#21 18.07    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 107.3/107.3 kB 167.6 MB/s eta 0:00:00
#21 18.12 Downloading frozenlist-1.8.0-cp311-cp311-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl (231 kB)
#21 18.13    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 231.1/231.1 kB 91.9 MB/s eta 0:00:00
#21 18.18 Downloading httpx-0.28.1-py3-none-any.whl (73 kB)
#21 18.18    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 73.5/73.5 kB 226.4 MB/s eta 0:00:00
#21 18.23 Downloading httpcore-1.0.9-py3-none-any.whl (78 kB)
#21 18.23    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 78.8/78.8 kB 227.8 MB/s eta 0:00:00
#21 18.30 Downloading idna-3.11-py3-none-any.whl (71 kB)
#21 18.30    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 71.0/71.0 kB 281.6 MB/s eta 0:00:00
#21 18.36 Downloading itsdangerous-2.2.0-py3-none-any.whl (16 kB)
#21 18.41 Downloading jinja2-3.1.6-py3-none-any.whl (134 kB)
#21 18.41    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 134.9/134.9 kB 197.3 MB/s eta 0:00:00
#21 18.46 Downloading magic_filter-1.0.12-py3-none-any.whl (11 kB)
#21 18.53 Downloading markupsafe-3.0.3-cp311-cp311-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl (22 kB)
#21 18.60 Downloading msgspec-0.19.0-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (210 kB)
#21 18.63    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 210.7/210.7 kB 8.3 MB/s eta 0:00:00
#21 18.69 Downloading multidict-6.7.0-cp311-cp311-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl (246 kB)
#21 18.77    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 246.7/246.7 kB 3.2 MB/s eta 0:00:00
#21 18.83 Downloading pillow-12.0.0-cp311-cp311-manylinux_2_27_x86_64.manylinux_2_28_x86_64.whl (7.0 MB)
#21 19.16    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 7.0/7.0 MB 21.1 MB/s eta 0:00:00
#21 19.26 Downloading propcache-0.4.1-cp311-cp311-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl (210 kB)
#21 19.27    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 210.0/210.0 kB 119.5 MB/s eta 0:00:00
#21 19.32 Downloading pydantic-2.11.10-py3-none-any.whl (444 kB)
#21 19.33    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 444.8/444.8 kB 55.0 MB/s eta 0:00:00
#21 19.39 Downloading pydantic_core-2.33.2-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (2.0 MB)
#21 19.48    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.0/2.0 MB 25.2 MB/s eta 0:00:00
#21 19.53 Downloading pynacl-1.6.0-cp38-abi3-manylinux_2_34_x86_64.whl (1.4 MB)
#21 19.57    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.4/1.4 MB 37.1 MB/s eta 0:00:00
#21 19.63 Downloading typing_extensions-4.15.0-py3-none-any.whl (44 kB)
#21 19.64    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 44.6/44.6 kB 26.7 MB/s eta 0:00:00
#21 19.69 Downloading urllib3-2.5.0-py3-none-any.whl (129 kB)
#21 19.69    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 129.8/129.8 kB 182.0 MB/s eta 0:00:00
#21 19.74 Downloading werkzeug-3.1.3-py3-none-any.whl (224 kB)
#21 19.75    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 224.5/224.5 kB 106.2 MB/s eta 0:00:00
#21 19.80 Downloading yarl-1.22.0-cp311-cp311-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl (365 kB)
#21 19.81    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 365.8/365.8 kB 71.3 MB/s eta 0:00:00
#21 19.86 Downloading cachelib-0.13.0-py3-none-any.whl (20 kB)
#21 19.91 Downloading Deprecated-1.2.18-py2.py3-none-any.whl (10.0 kB)
#21 19.96 Downloading distro-1.9.0-py3-none-any.whl (20 kB)
#21 20.04 Downloading netaddr-1.3.0-py3-none-any.whl (2.3 MB)
#21 20.17    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.3/2.3 MB 17.9 MB/s eta 0:00:00
#21 20.29 Downloading wtforms-3.2.1-py3-none-any.whl (152 kB)
#21 20.30    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 152.5/152.5 kB 27.3 MB/s eta 0:00:00
#21 20.35 Downloading annotated_types-0.7.0-py3-none-any.whl (13 kB)
#21 20.40 Downloading cffi-2.0.0-cp311-cp311-manylinux2014_x86_64.manylinux_2_17_x86_64.whl (215 kB)
#21 20.41    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 215.6/215.6 kB 51.5 MB/s eta 0:00:00
#21 20.46 Downloading typing_inspection-0.4.2-py3-none-any.whl (14 kB)
#21 20.50 Downloading wrapt-1.17.3-cp311-cp311-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl (82 kB)
#21 20.51    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 82.4/82.4 kB 169.8 MB/s eta 0:00:00
#21 20.55 Downloading anyio-4.11.0-py3-none-any.whl (109 kB)
#21 20.56    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 109.1/109.1 kB 259.8 MB/s eta 0:00:00
#21 20.60 Downloading h11-0.16.0-py3-none-any.whl (37 kB)
#21 20.65 Downloading sniffio-1.3.1-py3-none-any.whl (10 kB)
#21 20.70 Downloading pycparser-2.23-py3-none-any.whl (118 kB)
#21 20.70    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 118.1/118.1 kB 217.5 MB/s eta 0:00:00
#21 20.74 Building wheels for collected packages: dark-maximus, yookassa
#21 20.75   Building editable for dark-maximus (pyproject.toml): started
#21 20.92   Building editable for dark-maximus (pyproject.toml): finished with status 'done'
#21 20.92   Created wheel for dark-maximus: filename=dark_maximus-3.8.0-0.editable-py3-none-any.whl size=7987 sha256=d60d40cbe0879fe105a2c203cd2f2836811c20cfed1bb81a57eab883cd61dbbf
#21 20.92   Stored in directory: /tmp/pip-ephem-wheel-cache-hq5vs_gd/wheels/5d/ab/eb/306006576d05dae3e4757d1e83b6053a65f83caf0bc296cb77
#21 20.93   Building wheel for yookassa (pyproject.toml): started
#21 21.23   Building wheel for yookassa (pyproject.toml): finished with status 'done'
#21 21.23   Created wheel for yookassa: filename=yookassa-3.5.0-py2.py3-none-any.whl size=236372 sha256=dbff8135fd45c133a11224dc5119474e91c98c8875698f3603e8c117d6216526
#21 21.23   Stored in directory: /tmp/pip-ephem-wheel-cache-hq5vs_gd/wheels/fb/36/6a/c56c11e711bfc342abf22d294ab2472d9c605d2583b082b143
#21 21.23 Successfully built dark-maximus yookassa
#21 21.43 Installing collected packages: aiocache, wrapt, urllib3, typing-extensions, sniffio, qrcode, python-dotenv, pyotp, pycparser, propcache, pillow, netaddr, multidict, msgspec, markupsafe, magic-filter, itsdangerous, idna, h11, frozenlist, distro, click, charset-normalizer, certifi, cachelib, blinker, bcrypt, attrs, annotated-types, aiohappyeyeballs, aiofiles, yarl, wtforms, werkzeug, typing-inspection, requests, pydantic-core, jinja2, httpcore, deprecated, cffi, anyio, aiosqlite, aiosignal, yookassa, pynacl, pydantic, httpx, flask, aiohttp, py3xui, flask-wtf, flask-session, aiosend, aiohttp-sse-client, aiogram, pytonconnect, dark-maximus
#21 24.94 Successfully installed aiocache-0.12.2 aiofiles-24.1.0 aiogram-3.21.0 aiohappyeyeballs-2.6.1 aiohttp-3.12.15 aiohttp-sse-client-0.2.1 aiosend-2.1.2 aiosignal-1.4.0 aiosqlite-0.20.0 annotated-types-0.7.0 anyio-4.11.0 attrs-25.4.0 bcrypt-4.1.2 blinker-1.9.0 cachelib-0.13.0 certifi-2025.10.5 cffi-2.0.0 charset-normalizer-3.4.4 click-8.3.0 dark-maximus-3.8.0 deprecated-1.2.18 distro-1.9.0 flask-3.1.1 flask-session-0.8.0 flask-wtf-1.2.1 frozenlist-1.8.0 h11-0.16.0 httpcore-1.0.9 httpx-0.28.1 idna-3.11 itsdangerous-2.2.0 jinja2-3.1.6 magic-filter-1.0.12 markupsafe-3.0.3 msgspec-0.19.0 multidict-6.7.0 netaddr-1.3.0 pillow-12.0.0 propcache-0.4.1 py3xui-0.4.0 pycparser-2.23 pydantic-2.11.10 pydantic-core-2.33.2 pynacl-1.6.0 pyotp-2.9.0 python-dotenv-1.1.1 pytonconnect-0.3.2 qrcode-8.2 requests-2.31.0 sniffio-1.3.1 typing-extensions-4.15.0 typing-inspection-0.4.2 urllib3-2.5.0 werkzeug-3.1.3 wrapt-1.17.3 wtforms-3.2.1 yarl-1.22.0 yookassa-3.5.0
#21 25.22 
#21 25.22 [notice] A new release of pip is available: 24.0 -> 25.2
#21 25.22 [notice] To update, run: pip install --upgrade pip
#21 DONE 26.5s

#22 [stage-1 9/9] RUN echo "🚀 Начинаем развертывание админской документации..." &&     mkdir -p docs/user-docs/admin &&     if [ -f "docs/installation.md" ]; then         cp docs/installation.md docs/user-docs/admin/installation.md;         echo "✅ Создан installation.md";     fi &&     if [ -f "docs/admin-panel-guide.md" ]; then         cp docs/admin-panel-guide.md docs/user-docs/admin/guide.md;         echo "✅ Создан guide.md";     fi &&     if [ -f "docs/security-checklist.md" ]; then         cp docs/security-checklist.md docs/user-docs/admin/security.md;         echo "✅ Создан security.md";     fi &&     if [ -f "docs/api/README.md" ]; then         cp docs/api/README.md docs/user-docs/admin/api.md;         echo "✅ Создан api.md";     fi &&     if [ ! -f "docs/user-docs/admin/quickstart.md" ]; then         echo "# ⚡ Быстрый старт" > docs/user-docs/admin/quickstart.md &&         echo "" >> docs/user-docs/admin/quickstart.md &&         echo "## 🚀 Первые шаги" >> docs/user-docs/admin/quickstart.md &&         echo "" >> docs/user-docs/admin/quickstart.md &&         echo "1. Зайдите в админ-панель" >> docs/user-docs/admin/quickstart.md &&         echo "2. Настройте Telegram бота" >> docs/user-docs/admin/quickstart.md &&         echo "3. Добавьте серверы 3x-ui" >> docs/user-docs/admin/quickstart.md &&         echo "4. Создайте тарифы" >> docs/user-docs/admin/quickstart.md &&         echo "" >> docs/user-docs/admin/quickstart.md &&         echo "## 📋 Основные настройки" >> docs/user-docs/admin/quickstart.md &&         echo "" >> docs/user-docs/admin/quickstart.md &&         echo "- **Telegram Bot Token**: Получите у @BotFather" >> docs/user-docs/admin/quickstart.md &&         echo "- **Admin Telegram ID**: Ваш ID в Telegram" >> docs/user-docs/admin/quickstart.md &&         echo "- **3x-ui серверы**: Добавьте через панель" >> docs/user-docs/admin/quickstart.md &&         echo "" >> docs/user-docs/admin/quickstart.md &&         echo "## 🔧 Полезные ссылки" >> docs/user-docs/admin/quickstart.md &&         echo "" >> docs/user-docs/admin/quickstart.md &&         echo "- [Полное руководство](guide.md)" >> docs/user-docs/admin/quickstart.md &&         echo "- [Чек-лист безопасности](security.md)" >> docs/user-docs/admin/quickstart.md &&         echo "- [API документация](api.md)" >> docs/user-docs/admin/quickstart.md &&         echo "✅ Создан quickstart.md";     fi &&     if [ -f "docs/user-docs/_sidebar.md" ] && ! grep -q "Админская документация" docs/user-docs/_sidebar.md; then         echo "" >> docs/user-docs/_sidebar.md &&         echo "---" >> docs/user-docs/_sidebar.md &&         echo "" >> docs/user-docs/_sidebar.md &&         echo "* **📖 Админская документация**" >> docs/user-docs/_sidebar.md &&         echo "  * [⚡ Быстрый старт](admin/quickstart.md)" >> docs/user-docs/_sidebar.md &&         echo "  * [📖 Полное руководство](admin/guide.md)" >> docs/user-docs/_sidebar.md &&         echo "  * [🔒 Чек-лист безопасности](admin/security.md)" >> docs/user-docs/_sidebar.md &&         echo "  * [🔌 API документация](admin/api.md)" >> docs/user-docs/_sidebar.md &&         echo "✅ Обновлен _sidebar.md";     fi &&     echo "✅ Админская документация успешно развернута!"
#22 0.547 🚀 Начинаем развертывание админской документации...
#22 0.552 ✅ Админская документация успешно развернута!
#22 DONE 0.6s

#23 exporting to image
#23 exporting layers
#23 exporting layers 3.0s done
#23 exporting manifest sha256:5cd80496868e42201b360b87dc26093e5884de2528e002048123db7cbf291ebc 0.0s done
#23 exporting config sha256:cdbfddfb3d713933f2a0fa5704aade42e5a2f70bcc535138fdebe6ff6748fde5 0.0s done
#23 exporting attestation manifest sha256:7cfb3d124d67fdbed05eff2ec7ff5fb9f6053f747b6cefdbf15648beeb2c0075 0.0s done
#23 exporting manifest list sha256:16bb37bc5a5c16490f66f2c04ae11250fcba38007821e37d6ee33e9e4268508e
#23 exporting manifest list sha256:16bb37bc5a5c16490f66f2c04ae11250fcba38007821e37d6ee33e9e4268508e 0.0s done
#23 naming to docker.io/library/dark-maximus-bot:latest done
#23 unpacking to docker.io/library/dark-maximus-bot:latest
#23 unpacking to docker.io/library/dark-maximus-bot:latest 1.6s done
#23 DONE 4.8s

View build details: docker-desktop://dashboard/build/desktop-linux/desktop-linux/3otph31qwi3ztmbcl3s0iknzi
