# Пример файла переменных окружения для Dark Maximus
# Скопируйте этот файл в .env и заполните реальными значениями

# ============================================
# КРИТИЧНО: Flask секретный ключ (обязательно!)
# ============================================
# Используется для шифрования сессий Flask во всех сервисах с авторизацией:
# - Веб-панель (bot) - порт 50000
# - Документация (docs-proxy) - порт 50001
# - Allure Homepage (allure-homepage) - порт 50005
# 
# КРИТИЧНО: Не меняйте этот ключ после первого запуска, иначе все сессии будут потеряны!
FLASK_SECRET_KEY=your-super-secret-key-here-change-this

# ============================================
# Настройки безопасности Flask сессий (опционально)
# ============================================
# FLASK_ENV=production - для включения SESSION_COOKIE_SECURE (HTTPS)
# SESSION_COOKIE_SECURE=true - для HTTPS (автоматически включается при FLASK_ENV=production)
# FLASK_DEBUG=false - отключить режим отладки Flask

# ============================================
# Настройки тестирования целостности БД
# ============================================
# ENVIRONMENT=production - включить тесты для продакшн (development/test - отключить)
ENVIRONMENT=development

# ============================================
# Учетные данные для сервисов с авторизацией (FALLBACK)
# ============================================
# ВАЖНО: Основной источник учетных данных - БД (таблица bot_settings):
# - panel_login - логин для веб-панели, docs-proxy, allure-homepage
# - panel_password - пароль для веб-панели, docs-proxy, allure-homepage
#
# Переменные в .env используются ТОЛЬКО как fallback для:
# - Тестов (если нет в БД)
# - Аварийного доступа (если БД недоступна)
# - Первоначальной настройки (если БД пуста)
#
# Сервисы с авторизацией:
# 1. Веб-панель (bot) - порт 50000, домен panel.*
#    Использует: panel_login, panel_password из БД
# 2. Документация (docs-proxy) - порт 50001, домен docs.*
#    Использует: panel_login, panel_password из БД
# 3. Allure Homepage (allure-homepage) - порт 50005, домен allure.*
#    Использует: panel_login, panel_password из БД
# 4. Codex Docs (codex-docs) - порт 50002, домен help.*
#    Использует: auth.password из codex.docs/docs-config.yaml (НЕ из БД)
#
# Для изменения логина/пароля используйте веб-панель (/settings), НЕ редактируйте .env!
PANEL_LOGIN=admin
PANEL_PASSWORD=admin

# ============================================
# Codex Docs пароль (FALLBACK)
# ============================================
# ВАЖНО: Основной источник - codex.docs/docs-config.yaml (auth.password)
# Переменная в .env используется ТОЛЬКО как fallback для аварийного доступа
# Для изменения пароля редактируйте codex.docs/docs-config.yaml
CODEX_DOCS_PASSWORD=secretpassword

# ============================================
# GitHub Token (опционально, для автоматизации)
# ============================================
# Используется для создания GitHub Issues через API (tests/ad-hoc/create_github_issues.py)
# GITHUB_TOKEN=ghp_...

# ============================================
# TLS настройки для X-UI (опционально)
# ============================================
# XUI_TLS_VERIFY=true - включить проверку TLS сертификата (рекомендуется)
# XUI_TLS_CA_BUNDLE=/path/to/ca-bundle.crt - путь к кастомному CA bundle

# ============================================
# Домены (автоматически генерируются install.sh)
# ============================================
# ВАЖНО: Домены также хранятся в БД (bot_settings):
# - domain, global_domain - основной домен
# - docs_domain - домен документации
# - codex_docs_domain - домен админ-документации
# - user_cabinet_domain - домен личного кабинета
# - allure_domain - домен Allure
#
# Переменные в .env используются только для:
# - Генерации nginx конфигурации при установке
# - Fallback значений, если не установлены в БД
DOMAIN=example.com
MAIN_DOMAIN=example.com
DOCS_DOMAIN=docs.example.com
HELP_DOMAIN=help.example.com
APP_DOMAIN=app.example.com
ALLURE_DOMAIN=allure.example.com

# ============================================
# ПРИМЕЧАНИЕ
# ============================================
# Все остальные настройки (токены ботов, платежные системы, домены и т.д.)
# хранятся в БД в таблице bot_settings и настраиваются через веб-панель.
# Переменные окружения для этих настроек НЕ используются в коде.
