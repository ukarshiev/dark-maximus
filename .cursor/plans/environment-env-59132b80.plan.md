<!-- 59132b80-80c0-4158-aa1f-5131f5ae0fd2 e84f2c56-cd71-43d4-bdea-d3d6e7115563 -->
# Упрощение теста целостности БД - только ENVIRONMENT в .env

## Цель

Упростить конфигурацию теста проверки целостности БД: оставить только одну настройку `ENVIRONMENT` в `.env` для переключения между тестовым и продакшн режимами. Пути к БД определять автоматически.

## Изменения

### 1. Обновить `config/env.example`

- Добавить только одну настройку для тестирования:
  ```env
  # Настройки тестирования целостности БД
  # ENVIRONMENT=production - включить тесты для продакшн (development/test - отключить)
  ENVIRONMENT=development
  ```


### 2. Создать/обновить тест `tests/integration/test_database_schema_integrity.py`

- Упростить функцию `get_reference_db_path()`:
  - Убрать проверку `REFERENCE_DB_PATH` из `.env`
  - Оставить только поиск локальной `users.db` в корне проекта
  - Если не найдена - создавать из кода

- Упростить функцию `get_production_db_path()`:
  - Убрать проверку `PRODUCTION_DB_PATH` из `.env`
  - Использовать только автоматическое определение:

    1. `/app/project/users.db` (Docker контейнер)
    2. `database.DB_FILE` (fallback)

- Обновить функцию `is_production_environment()`:
  - Оставить только проверку `ENVIRONMENT` из `.env` (уже загружается через `conftest.py`)

- Обновить описание теста:
  - Убрать упоминания `REFERENCE_DB_PATH` и `PRODUCTION_DB_PATH`
  - Указать, что пути определяются автоматически
  - Оставить только `ENVIRONMENT=production` в `.env`

- Обновить allure.attach с информацией о конфигурации:
  - Убрать упоминания переменных из `.env`
  - Показывать только `ENVIRONMENT` и автоматически определенные пути

## Логика определения путей

**Эталонная БД (reference):**

1. Локальная `users.db` в корне проекта (`project_root / "users.db"`)
2. Если не найдена - создается из кода через `initialize_db()` (только структура)

**Продакшн БД (production):**

1. `/app/project/users.db` (стандартный путь в Docker контейнере)
2. `database.DB_FILE` (fallback, если стандартный путь не существует)

## Результат

- Минимальная конфигурация: только `ENVIRONMENT=production` в `.env` для включения теста
- Автоматическое определение путей к БД
- Упрощенная логика без лишних переменных окружения