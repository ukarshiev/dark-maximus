<!-- cef42b98-903c-4320-840b-9ee5e55f445d 896a9aa2-8838-4327-abc6-23c452131ee5 -->
# План расширения панели уведомлений

1. analyze-db — Проверить в `users.db` наличие записей `subscription_plan_unavailable`, в том числе для пользователя 6044240344 в районе 06:12 (UTC+3), и зафиксировать фактическое состояние выборки/пагинации.
2. expose-templates-api — Собрать единую справку по шаблонам уведомлений (код, название, условия), реализовать backend-метод с JSON-ответом и подготовить список для вывода пользователю.
3. adjust-manual-send — Доработать `/create-notification`, чтобы принимать код уведомления, вычислять необходимые данные и уметь повторно отправлять (включая обход `_marker_logged` и проверок доступности тарифа при force-режиме).
4. update-frontend — Обновить `notifications.html` и `static/js/script.js`, чтобы загружать шаблоны по API, показывать полный список и передавать выбранный код/параметры при создании уведомления.
5. tests-docs-changelog — Добавить/обновить тесты для новой логики уведомлений, актуализировать документацию в `docs/` и внести запись в `CHANGELOG.md` с синхронизацией версии в `pyproject.toml`.

### To-dos

- [ ] Изучить таблицу notifications и причину отсутствия записей типа subscription_plan_unavailable в панели
- [ ] Сформировать справочник шаблонов уведомлений и реализовать backend-endpoint с JSON
- [ ] Расширить обработчик create-notification, поддержав разные типы уведомлений и принудительную отправку
- [ ] Обновить UI панели уведомлений для работы с новым API и параметрами
- [ ] Обновить тесты, документацию и changelog/pyproject