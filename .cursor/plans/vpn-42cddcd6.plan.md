<!-- 42cddcd6-0763-453a-9a76-285b447b3632 321258bd-9e64-4c57-9c84-4e88a738e883 -->
# План обновления интерфейса VPN-кабинета

## Цели

- Облегчить мобильную навигацию и увеличить рабочую область.
- Синхронизировать тему и высоту панелей с ожидаемым поведением пользователей.
- Добавить управляющие элементы (иконки) для шагов инструкции.

## Шаги

1. Аналитика текущей верстки

- Проверить адаптивные стили `apps/user-cabinet/static/css/style.css`, разметку `templates/index.html` и логику `static/js/*.js`.
- Сверить брейкпоинты с рекомендациями Tailwind по responsive utilities (`/tailwindlabs/tailwindcss.com`, responsive-design docs).

2. Адаптация табов для мобильных устройств

- Скрыть подписи `.steps-nav__label` до 768 px, распределить `.steps-nav__bullet` на полную ширину навигации.
- Убедиться в сохранении доступности: `aria-label` у `nav`, скрытый текст для читалок.

3. Облегчение шапки и расширение контейнера

- Убрать видимую границу у `.header`, оставить тень и градиент.
- Увеличить `--layout-max-width` в `:root` на 10 %.

4. Управление темой при переходе на «Подключение»

- В `activateStep` добавить вызов `ThemeUtils.setTheme('dark')` при активации шага `subscription`, сохранить и восстановить предыдущую тему при других шагах.

5. Полноэкранная высота панелей и iframe

- Превратить `.step-pane` и `.step-pane__content` в флекс-контейнеры, вычислять `min-height` как `calc(100vh - <отступы>)`.
- Для шага «Настройка VPN» обеспечить, что iframe и fallback занимают доступную высоту без прокрутки внутри.

6. Добавление иконок действий в панель шага

- В `index.html` вставить блок `step-pane__toolbar` с кнопками «Открыть в новой вкладке» и «Полноэкранный режим».
- В `main.js` реализовать обработчики: открытие URL и переключение класса `step-pane--fullscreen`.
- Стилизовать кнопки и полноэкранное состояние (включая адаптацию Tailwind-подобных утилит) в CSS.

7. Проверка и документация

- Протестировать навигацию, переключение темы, полноэкранный режим на разных размерах экрана.
- Обновить `CHANGELOG.md` и версию в `pyproject.toml` после внедрения, следуя правилам.

### To-dos

- [ ] Изучить текущие шаблоны и стили для шагов подключения
- [ ] Настроить мобильные табы без текста и выравниванием шагов по ширине
- [ ] Убрать границу хедера и увеличить ширину контейнера
- [ ] Добавить автопереключение темы при активации шага «Подключение»
- [ ] Обеспечить полноэкранную высоту панелей и iframe, включая fallback
- [ ] Добавить иконки управления шагом и обработчики
- [ ] Провести тестирование и обновить документацию/CHANGELOG